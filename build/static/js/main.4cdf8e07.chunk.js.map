{"version":3,"sources":["components/error-indicator/death-star.png","components/header/index.js","components/header/header.js","components/spinner/index.js","components/spinner/spinner.js","components/error-indicator/index.js","components/error-indicator/error-indicator.js","services/swapi-service.js","components/random-planet/random-planet.js","components/random-planet/index.js","components/error-button/index.js","components/error-button/error-button.js","components/item-list/index.js","components/item-list/item-list.js","components/person-details/person-details.js","components/person-details/index.js","components/app/index.js","components/app/app.js","index.js"],"names":["module","exports","Header","react_default","a","createElement","className","href","Spinner","ErrorIndicator","src","icon","alt","SwapiService","_apiBase","_transformPlanet","planet","id","_this","_extractId","name","population","rotationPeriod","rotation_period","diameter","_transformStarship","starship","model","manufacturer","costInCredits","length","crew","passengers","cargoCapacity","_transformPerson","person","gender","birthYear","birth_year","eyeColor","eye_color","url","fetch","concat","this","res","ok","Error","status","json","getResource","results","map","item","match","RandomPlanet","swapiService","state","loading","onPlanetLoaded","setState","error","onError","err","updatePlanet","Math","floor","random","getPlanet","then","catch","interval","setInterval","clearInterval","_this$state","hasData","errorMessage","components_error_indicator","spinner","components_spinner","content","random_planet_PlanetView","Component","PlanetView","_ref","Fragment","ErrorButton","renderError","_this2","foo","bar","onClick","ItemList","peopleList","getAllPeople","arr","_this3","key","props","onItemSelected","items","renderItems","PersonDetails","onPersonLoaded","updatePerson","prevProps","personId","onLoading","getPerson","person_details_PersontView","PersontView","App","showRandomPlanet","selectedPerson","toggleRandomPlanet","onPersonSelected","console","log","components_random_planet","components_header","components_error_button","components_item_list","components_person_details","ReactDOM","render","components_app","document","getElementById"],"mappings":"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","file":"static/js/main.4cdf8e07.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABcVBMVEUAAACUMUKVNESUNUaTNEWTNEWTNUWUNEWUNEWUNEWTNEWUNEWUNEWVNEWVNESUNUeWMkOUNUWVNEWUNEWTM0aVNUSSN0mVNUaUNEWUNEWUNEWVNESSNESWLUuUNESUNEWUNEafQECUNEaUNUWXNEaUMkaUNEWVNUaVM0SUNEWUM0WdO06UM0SVM0WSNkeVNUCUNEWUNEWVNEaUNESTMUWVMkSXOEiUNEWUNUSVNUSVK0CUNEWVNEWQN0OUNEaVNESUNEWAQED/AACUNEWZM02UNEaTNUaVM0SVNUaUNEaTNESSN0mUNEWUNUaZMzOUNEWVM0WUNEWTNkWUNEWVNEaXLkaUNEWUNEWXOUKUNEWVM0WUNkWSMkeUNEWUNUWUNEWUNEWVNUSUM0aTNUaTMkSUNEaUNESUNEWUNESPMECUNEWUNkOUNEWTNESUNUaTNEWZM0CUNEWVNEaUNUWVNUWSNUSUNEWUNEWTNESUNEUAAAAeSPByAAAAeXRSTlMAH155k63H4fjr07qiiWwrLn7O45pSDh2N3vuvMRGK97AIde4sTOJqeP2pDaTaLxjIwYRPGikg7FZlDNK2F8aoegQB2wpYhzxbko4c9j4Fnn3zNNS7FsuyG/FzUT3+jF3lwm5XR2Lya3AQ+ibqU6WmFNZx6TBESqdASVNu+gAAAAFiS0dEAIgFHUgAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCRwPAQ3scZC+AAACoUlEQVRYw6WX+WPSMBTH6z11OhXva4hnFR0MdBsymGzshLmjKEMZG7svd3jmv7fJo23SJDQl35+S9/I+TV7SHIYh16nTZ86eO3+h6+Kly91XrvYY4XTt+g3EKnLz1m3V6Dt37yGR7j94qBL+6HEvkioaiHgSe4raKvqsbfzzFyhIXS/bxL8yA+NtvX4j635cJdzW23fC+L6E1yTZn0qnU/1JCaH3vSD+Q8T1Dww6xsEBMWGIj898dL3ZYc88nOWjc/mRT1x8Ier6R8dox9goByiKEjDuus0J1jNhqgAmPfcUWFLT0ykoTSkAZkqeu4wNs2To2VlcLisAPnteM4MNc1CZI+k1AwE9dpP5Bfu7MYQWiWURmnoVq0KKC/Me50vGBXzFc4MLVbvbxLIEbZZIBQ+n1mqao3ryzYn/jmv15WKxYSG0Qkyr0GSVVFbsUqS5hrVcFw2FXbBpbFqH8joupyXr2QXM1BkzTN7GJkKbGzChQYAt1pwswNIulyFJhWQQwPLZt9kp2pbFO0nc2fXZS3t0/F5JFu9M4yTn2T/w4g/2hcH0J34I/IdH4Ds6lHydBiREDczj+MlJ/NhECoDgfbg9oLCrCah0Ev+TAvyy5yMfUt2/KcAfhBqGjrQBYYfQ9APCJjHvB4SdRg4QdiHxAFjKrS0L1LDkgL8cAH6mGmOrhukB/M6tbRuEt3d1wI5KFmP4jKqwI3PPBUsBUCUta6zRORe2FABWw85tM8Ia11oA37auLsnB0gHAPdps+bupBPAOVz5RagDneOenShFAXzA6yQF7xVHXP249KyoHW0utQC/o8RAA4T2Rumh2BqCvusFDEFx1mct2sIZEfehLKMcLr/v6Dw5D+8lj6D+69J99hvbDE0vz6Uuk9/gGKT3//wOKqXrHYMfrIgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wOS0yOFQxNTowMToxMyswMjowMIL/AEkAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMDktMjhUMTU6MDE6MTMrMDI6MDDzorj1AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==\"","import Header from './header';\n\nexport default Header;","import React from 'react';\n\nimport './header.css';\n\nconst Header = () => {\n  return (\n      <div className=\"header d-flex\">\n        <h3>\n          <a href=\"#\">\n            Star DB\n          </a>\n        </h3>\n        <ul className=\"d-flex\">\n          <li>\n            <a href=\"#\">People</a>\n          </li>\n          <li>\n            <a href=\"#\">Planets</a>\n          </li>\n          <li>\n            <a href=\"#\">Starships</a>\n          </li>\n        </ul>\n      </div>\n  );\n};\n\nexport default Header;","import  Spinner from './spinner';\n\nexport default Spinner;","import React from 'react';\n\nimport './spinner.css';\n\nconst Spinner = () => {\n  return (\n      <div className=\"lds-css\">\n        <div className=\"lds-double-ring\">\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n  );\n};\n\nexport default Spinner;","import ErrorIndicator from './error-indicator';\n\nexport default ErrorIndicator;\n","import React from 'react';\n\nimport './error-indicator.css';\nimport icon from './death-star.png';\n\nconst ErrorIndicator = () => {\n  return (\n      <div className=\"error-indicator\">\n        <img src={icon} alt=\"error icon\"/>\n        <span className=\"boom\">BOOM!</span>\n        <span>\n        something has gone terribly wrong\n      </span>\n        <span>\n        (but we already sent droids to fix it)\n      </span>\n      </div>\n  );\n};\n\nexport default ErrorIndicator;\n","// код который работает с сетью лучше изолировать в отдельный класс-сервис. Компоненты не должны знать откуда\n// беруться данные\nexport default class SwapiService {\n  // соглашение что это приватное поле класса и его не следует использовать или изменять снаружи\n  _apiBase = 'https://swapi.co/api';\n\n  // async - асинхронная функция, принимает url того что мы хотим получить\n  async getResource(url) {\n    // await - ждем пока результат промиса не будет доступен.\n    // fetch(url) и res.json() вернут Promise\n    // передается тот кусок url который идет за _apiBase\n    const res = await fetch(`${this._apiBase}${url}`);\n\n    // если код ответа не 2хх\n    if (!res.ok) {\n      throw new Error(`Could not fetch ${url}, received ${res.status}`);\n    }\n\n    return await res.json();\n  }\n\n  // делаем функцию асинхронной\n  async getAllPeople() {\n    // ждем пока не будет готов результат от getResource\n    const res = await this.getResource(`/people/`);\n    // возвращаем массив персонажей\n    return res.results.map(this._transformPerson);\n  }\n\n  async getPerson(id) {\n    const person = await this.getResource(`/people/${id}/`);\n    return this._transformPerson(person);\n  }\n\n  async getAllPlanets() {\n    // ждем пока не будет готов результат от getResource\n    const res = await this.getResource(`/planets/`);\n    // возвращаем массив персонажей\n    // return res.results;\n    return res.results.map(this._transformPlanet);\n  }\n\n  async getPlanet(id) {\n    const planet = await this.getResource(`/planets/${id}/`);\n    return this._transformPlanet(planet);\n  }\n\n  async getAllStarships() {\n    // ждем пока не будет готов результат от getResource\n    const res = await this.getResource(`/starships/`);\n    // возвращаем массив персонажей\n    return res.results.map(this._transformStarship);\n  }\n\n  async getStarship(id) {\n    const starship = await this.getResource(`/starships/${id}/`);\n    return this._transformStarship(starship);\n  }\n\n  _extractId(item) {\n    const idRegExp = /\\/([0-9]*)\\/$/;\n    // 0 группа - весь regexp, 1 - то что выделили в скобки\n    return item.url.match(idRegExp)[1];\n  }\n\n  _transformPlanet = (planet) => {\n    return {\n      id: this._extractId(planet),\n      name: planet.name,\n      population: planet.population,\n      rotationPeriod: planet.rotation_period,\n      diameter: planet.diameter\n    };\n  };\n\n  _transformStarship = (starship) => {\n    return {\n      id: this._extractId(starship),\n      name: starship.name,\n      model: starship.model,\n      manufacturer: starship.manufacturer,\n      costInCredits: starship.costInCredits,\n      length: starship.length,\n      crew: starship.crew,\n      passengers: starship.passengers,\n      cargoCapacity: starship.cargoCapacity\n    };\n  };\n\n  _transformPerson = (person) => {\n    return {\n      id: this._extractId(person),\n      name: person.name,\n      gender: person.gender,\n      birthYear: person.birth_year,\n      eyeColor: person.eye_color\n    };\n  };\n\n}\n\n// const swapi = new SwapiService();\n\n// swapi.getPerson(3).then((p) => {\n//     console.log(p.name);\n// });\n\n// getResourse('https://swapi.co/api/people/1/')\n//     .then((body) => {\n//       console.log(body);\n//     })\n//     .catch((err) => {\n//       console.error('Could not fetch', err);\n//     });\n\n// эквивалентный код:\n// fetch('https://swapi.co/api/people/1/')\n//     .then((res) => {\n//       return res.json();\n//     })\n//     .then((body) => {\n//       console.log(body);\n//     });\n","import React, {Component} from 'react';\n\nimport Spinner from '../spinner';\nimport ErrorIndicator from '../error-indicator';\nimport SwapiService from '../../services/swapi-service';\n\nimport './random-planet.css';\n\n// компонент занимается логикой\nexport default class RandomPlanet extends Component {\n\n  swapiService = new SwapiService();\n\n  state = {\n    planet: {},\n    loading: true\n    // id: null,\n    // name: null,\n    // population: null,\n    // rotationPeriod: null,\n    // diameter: null\n  };\n\n  // компонент \"подключен\" (DOM элементы уже на странице)\n  componentDidMount() {\n    this.updatePlanet();\n    this.interval = setInterval(this.updatePlanet, 5000);\n  }\n\n  // Для очистки ресурсов (таймеры, интервалы, запросы к серверу) перед удалением компонента. В момент вызова, DOM все еще содержит компонент\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  onPlanetLoaded = (planet) => {\n    this.setState({\n      planet,\n      loading: false,\n      error: false\n    });\n  };\n\n  onError = (err) => {\n    this.setState({\n      loading: false,\n      error: true\n    })\n  };\n\n  updatePlanet = () => {\n    // генерируем id от 2 до 19\n    const id = Math.floor(Math.random() * 17) + 2;\n    // const id = 12000;\n    this.swapiService\n        .getPlanet(id)\n        .then(this.onPlanetLoaded)\n        .catch(this.onError);\n    // обновляем состояние компонента\n    // .then((planet) => {\n    // this.setState({\n    //   id,\n    //   name: planet.name,\n    //   population: planet.population,\n    //   rotationPeriod: planet.rotation_period,\n    //   diameter: planet.diameter\n    // });\n    // })\n    // .catch((err) => {\n    //   console.error('Could not fetch', err);\n    // });\n  };\n\n\n  render() {\n    const {planet, loading, error} = this.state;\n    // const {id, name, population, rotationPeriod, diameter} = this.state;\n\n\n    // есть данные тогда, когда нет ни загрузи ни ошибки\n    // (loading || error) вернет false когда оба false\n    const hasData = !(loading || error);\n\n    const errorMessage = error ? <ErrorIndicator/> : null;\n\n    // if (loading) {\n    //   return <Spinner/>\n    // }\n\n    // null в jsx игнорируется\n    const spinner = loading ? <Spinner/> : null;\n    const content = hasData ? <PlanetView planet={planet}/> : null;\n\n    return (\n        <div className=\"random-planet jumbotron rounded\">\n          {errorMessage}\n          {spinner}\n          {content}\n        </div>\n\n    );\n  }\n}\n\n// компонент занимается отрисовкой\nconst PlanetView = ({planet}) => {\n\n  const {\n    id, name, population,\n    rotationPeriod, diameter\n  } = planet;\n\n  return (\n      <React.Fragment>\n        <img className=\"planet-image\"\n             src={`https://starwars-visualguide.com/assets/img/planets/${id}.jpg`}\n             alt=\"planet\"/>\n        <div>\n          <h4>{name}</h4>\n          <ul className=\"list-group list-group-flush\">\n            <li className=\"list-group-item\">\n              <span className=\"term\">Population</span>\n              <span>{population}</span>\n            </li>\n            <li className=\"list-group-item\">\n              <span className=\"term\">Rotation Period</span>\n              <span>{rotationPeriod}</span>\n            </li>\n            <li className=\"list-group-item\">\n              <span className=\"term\">Diameter</span>\n              <span>{diameter}</span>\n            </li>\n          </ul>\n        </div>\n      </React.Fragment>\n  );\n};","import RandomPlanet from './random-planet';\n\nexport default RandomPlanet;","import ErrorButton from './error-button';\r\n\r\nexport default ErrorButton;","import React, { Component } from 'react';\r\n\r\nimport './error-button.css';\r\n\r\nexport default class ErrorButton extends Component {\r\n\r\n  state = {\r\n    renderError: false\r\n  };\r\n\r\n  render() {\r\n    if (this.state.renderError) {\r\n      this.foo.bar = 0;\r\n    }\r\n\r\n    return (\r\n        <button\r\n            className=\"error-button btn btn-danger btn-lg\"\r\n            onClick={() => this.setState({renderError: true})}>\r\n          Throw Error\r\n        </button>\r\n    );\r\n  }\r\n}","import ItemList from './item-list';\n\nexport default ItemList;","import React, {Component} from 'react';\n\nimport SwapiService from \"../../services/swapi-service\";\nimport Spinner from \"../spinner\";\nimport './item-list.css';\n\nexport default class ItemList extends Component {\n\n  swapiService = new SwapiService();\n\n  state = {\n    peopleList: null\n  };\n\n  // хорошее место получать данные\n  componentDidMount() {\n    this.swapiService\n        .getAllPeople()\n        .then((peopleList) => {\n          this.setState({\n            peopleList\n          });\n          // TODO catch error как в RandomPlanet\n        });\n  }\n\n  renderItems(arr) {\n    return arr.map(({id, name}) => {\n      return (\n          <li className=\"list-group-item\"\n              key={id}\n              onClick={() => this.props.onItemSelected(id)}>\n            {name}\n          </li>\n      );\n    });\n  }\n\n  render() {\n\n    const {peopleList} = this.state;\n\n    // TODO Spinner как в random planet или в person detail\n    if (!peopleList) {\n      return <Spinner/>\n    }\n\n    const items = this.renderItems(peopleList);\n\n    return (\n        <ul className=\"item-list list-group\">\n          {items}\n        </ul>\n    );\n  }\n}","import React, {Component} from 'react';\n\nimport SwapiService from \"../../services/swapi-service\";\nimport Spinner from \"../spinner\";\nimport './person-details.css';\n\nexport default class PersonDetails extends Component {\n\n  swapiService = new SwapiService();\n\n  state = {\n    person: {},\n    loading: true\n  };\n\n  componentDidMount() {\n    this.updatePerson();\n  }\n\n  onPersonLoaded = (person) => {\n    this.setState({\n      person,\n      loading: false\n    });\n  };\n\n  onLoading() {\n    this.setState({\n      loading: true\n    });\n  };\n\n  // срабатывает после того как компонент обновился и отрендерился (получил новые свойства или state). Вызывается после\n  // render(). В\n  // нем хорошо запрашивать новые данные для обновленных свойств\n  componentDidUpdate(prevProps) {\n    // когда App получает id выбранного персонажа из компонента ItemList, он будет обновлять свойство persomId\n    // компонента PersonDetails.\n    // componentDidUpdate сработает когда persomId будет обновлен (изменится)\n    // без проверки будет циклично обновляться (т.к. setState приводит к componentDidUpdate). Если будет затронут\n    // setState, обязательно условие проверки какое свойство изменилось.\n    if (this.props.personId !== prevProps.personId) {\n      this.onLoading();\n      this.updatePerson();\n    }\n  }\n\n  updatePerson() {\n    const {personId} = this.props;\n\n    // если нет id (null) не обновлять (т.к. не чего обновлять)\n    if (!personId) {\n      return;\n    }\n\n    this.swapiService\n        .getPerson(personId)\n        .then(this.onPersonLoaded);\n    // TODO catch error как в RandomPlanet\n\n  }\n\n  render() {\n\n    // const {id, name, gender, birthYear, eyeColor} = this.state.person;\n    const {person, loading} = this.state;\n\n    // if (!this.state.person) {\n    //   return <span>Select a person from a list</span>;\n    // }\n\n    // if (!this.state.person) {\n    //   return <Spinner/>\n    // }\n\n    // есть данные тогда, когда нет ни загрузи ни ошибки\n    // (loading || error) вернет false когда оба false\n    const hasData = !(loading);\n\n    // null в jsx игнорируется\n    const spinner = loading ? <Spinner/> : null;\n    const content = hasData ? <PersontView person={person}/> : null;\n\n\n    return (\n        <div className=\"person-details card\">\n          {spinner}\n          {content}\n        </div>\n    );\n  }\n}\n\n// компонент занимается отрисовкой\nconst PersontView = ({person}) => {\n\n  const {id, name, gender, birthYear, eyeColor} = person;\n\n  return (\n      <React.Fragment>\n        <img className=\"person-image\"\n             src={`https://starwars-visualguide.com/assets/img/characters/${id}.jpg`} alt=\"person\"/>\n        <div className=\"card-body\">\n          <h4>{name}</h4>\n          <ul className=\"list-group list-group-flush\">\n            <li className=\"list-group-item\">\n              <span className=\"term\">Gender</span>\n              <span>{gender}</span>\n            </li>\n            <li className=\"list-group-item\">\n              <span className=\"term\">Birth Year</span>\n              <span>{birthYear}</span>\n            </li>\n            <li className=\"list-group-item\">\n              <span className=\"term\">Eye Color</span>\n              <span>{eyeColor}</span>\n            </li>\n          </ul>\n        </div>\n      </React.Fragment>\n  );\n};\n","import PersonDetails from './person-details';\n\nexport default PersonDetails;","import App from './app';\n\nexport default App;","import React, {Component} from 'react';\n\nimport Header from '../header';\nimport RandomPlanet from '../random-planet';\nimport ErrorButton from '../error-button';\nimport ItemList from '../item-list';\nimport PersonDetails from '../person-details';\nimport ErrorIndicator from '../error-indicator';\n\nimport './app.css';\n\nexport default class App extends Component {\n\n  state = {\n    showRandomPlanet: true,\n    // selectedPerson: null\n    // по умолчанию выбран персонаж с id = 1\n    selectedPerson: 1,\n    error: false\n  };\n\n  toggleRandomPlanet = () => {\n    this.setState((state) => {\n      return {\n        showRandomPlanet: !state.showRandomPlanet\n      }\n    });\n  };\n\n  onPersonSelected = (id) => {\n    this.setState({\n      selectedPerson: id\n    });\n  };\n\n  componentDidCatch () {\n    console.log('componentDidCatch');\n    this.setState({\n      error: true\n    });\n  }\n\n  render() {\n\n    if (this.state.error) {\n      return <ErrorIndicator />\n    }\n\n    const planet = this.state.showRandomPlanet ?\n        <RandomPlanet/> :\n        null;\n\n\n    return (\n        <div className=\"stardb-app\">\n          <Header/>\n          {planet}\n          {/*<RandomPlanet/>*/}\n\n          <div className=\"row mb2 button-row\">\n            <button className=\"toggle-planet btn btn-warning btn-lg\"\n                    onClick={this.toggleRandomPlanet}>\n              Toggle Random Planet\n            </button>\n            <ErrorButton/>\n          </div>\n\n          <div className=\"row mb2\">\n            <div className=\"col-md-6\">\n              <ItemList onItemSelected={this.onPersonSelected}/>\n            </div>\n            <div className=\"col-md-6\">\n              <PersonDetails personId={this.state.selectedPerson}/>\n            </div>\n          </div>\n        </div>\n    );\n  }\n}\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app';\n\nReactDOM.render(<App />,\n    document.getElementById('root'));\n"],"sourceRoot":""}